<<include {{ args.pipebox_work }}/config/{{ args.user }}_cfg.des>>

<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/modnamepat.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/01-crosstalk-sci.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/02-pixcorrect.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/03-null-weight-pixcor.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/04a-create-scamp-cat.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/04b-split-scamp-ahead.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/05a-run-scamp.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/05b-ingest-scamp-xml.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/05c-update-scamp-headers.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/06a-mkbleedmask.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/06b-ingest-bleedmask.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/06c-skycompress-mkbleedmask.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/07-skycombine-mkbleedmask.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/08a-skyfit.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/08b-ingest-skyfit.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/08c-skysub.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/08d-starflat.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/09a-null-weight-bkg.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/09b-create-bkg-img.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/10-immask.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/11-rowinterp-nullweight-immask.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/12a-create-psfex-cat.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/12b-run-psfex.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/12c-ingest-psfex-xml.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/13a-create-finalcut-catalog.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/13b-ingest-se-objects.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/14-finalcut-assess.wcl>>
<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/modulewcl/finalcut/15-mkpng.wcl>>

<<include {{ args.pipebox_dir }}/templates/pipelines/finalcut/Y2A1dev/inputcals/>>

target_site = fermigrid-sl6

reqnum = 1951
nite = xxxx
expnum = yyyy
band = zzzz
calrange = 20141020t1030
calrun = r1471p01

jira_id = DESOPS-1645
label = ${nite}-nofringe
#basket = ${nite}
basket = Y2T3
GROUP_SUBMIT_ID = 1

pipeline = finalcut    # used in desstat output
pipeprod = finalcut
pipever = Y2A1dev+3
project = ACT
campaign = Y2T3
skycampaign = Y2A1

unitname = ${camera}${expnum:8}
ops_run_dir = ${project}/${pipeline}/${campaign}/${basket}-r${reqnum}/${unitname}/p${attnum:2}
submit_run_dir = /cluster_scratch/desdm_ops/${home_archive}/submit/${ops_run_dir}

se_object_table = PRODBETA.SE_OBJECT
save_run_vals = nite, camera, band, expnum, jira_id

camera = D         # Camera + expnum create unique criteria to find/name exposure file
photflagvar = 1    # needed for crosstalk code
ccdnum = 1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,62

blocklist = se

<block>
   <se>
        modulelist = crosstalk-sci,pixcorrect,null-weight-pixcor,create-scamp-catalog,split-scamp-ahead,run-scamp,ingest-scamp-xml,update-scamp-headers,mkbleedmask,skycompress-mkbleedmask,skycombine-mkbleedmask,skyfit,ingest-skyfit,skysub,starflat,null-weight-bkg,create-bkg-img,immask,rowinterp-nullweight-immask,create-psfex-catalog,run-psfex,ingest-psfex-xml,create-finalcut-catalog,ingest-se-objects,finalcut-assess,mkpng
    </se>    
</block>
